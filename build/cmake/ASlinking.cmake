message(STATUS "wxWidgets libraries: ${wxWidgets_LIBRARIES}")
message(STATUS "cURL libraries: ${CURL_LIBRARIES}")
message(STATUS "PNG libraries: ${PNG_LIBRARIES}")
message(STATUS "Jpeg libraries: ${JPEG_LIBRARY}")
message(STATUS "Jasper libraries: ${JASPER_LIBRARIES}")
message(STATUS "NetCDF libraries: ${NETCDF_LIBRARIES}")
message(STATUS "hdf5 libraries: ${HDF5_LIBRARIES}")
message(STATUS "GDAL libraries: ${GDAL_LIBRARIES}")


add_dependencies(asbase eigen)
add_dependencies(asprocessing eigen)

target_link_libraries(asbase g2clib)

if (BUILD_FORECASTER)
    target_link_libraries(atmoswing-forecaster asbase)
    target_link_libraries(atmoswing-forecaster asprocessing)
    if (USE_WXHGVERSION)
        target_link_libraries(atmoswing-forecaster ${WXHGVERSION_NAME})
    endif (USE_WXHGVERSION)
    if (USE_VLD)
        target_link_libraries(atmoswing-forecaster ${VLD_LIBRARIES})
    endif (USE_VLD)
endif (BUILD_FORECASTER)

if (BUILD_VIEWER)
    add_dependencies(atmoswing-viewer vroomgis)
    target_link_libraries(asbase ${GDAL_LIBRARIES})
    target_link_libraries(atmoswing-viewer asbase)
    target_link_libraries(atmoswing-viewer vroomgis)
    target_link_libraries(atmoswing-viewer ${VROOMGIS_LIBRARY})
    target_link_libraries(atmoswing-viewer wxplotctrl)
    if (USE_WXHGVERSION)
        add_dependencies(atmoswing-viewer wxhgversion)
        target_link_libraries(atmoswing-viewer ${WXHGVERSION_NAME})
    endif (USE_WXHGVERSION)
    if (USE_VLD)
        target_link_libraries(atmoswing-viewer ${VLD_LIBRARIES})
    endif (USE_VLD)
    if (WIN32)
        target_link_libraries(atmoswing-viewer Psapi.lib)
    endif (WIN32)
endif (BUILD_VIEWER)

if (BUILD_OPTIMIZER)
    target_link_libraries(atmoswing-optimizer asbase)
    target_link_libraries(atmoswing-optimizer asprocessing)
    if (USE_WXHGVERSION)
        target_link_libraries(atmoswing-optimizer ${WXHGVERSION_NAME})
    endif (USE_WXHGVERSION)
    if (USE_VLD)
        target_link_libraries(atmoswing-optimizer ${VLD_LIBRARIES})
    endif (USE_VLD)
    if (USE_CUDA)
        add_dependencies(atmoswing-optimizer ascuda)
        target_link_libraries(ascuda ${CUDA_CUDA_LIBRARY})
        target_link_libraries(atmoswing-optimizer ascuda)
    endif (USE_CUDA)
endif (BUILD_OPTIMIZER)

if (BUILD_TESTS)
    add_dependencies(atmoswing-tests googletest)
    target_link_libraries(atmoswing-tests ${CURL_LIBRARIES})
    target_link_libraries(atmoswing-tests gtest gtest_main)
    target_link_libraries(atmoswing-tests asbase)
    target_link_libraries(atmoswing-tests asprocessing)
    if (UNIX)
        target_link_libraries(atmoswing-tests pthread)
    endif (UNIX)
    if (USE_VLD)
        target_link_libraries(atmoswing-tests ${VLD_LIBRARIES})
    endif (USE_VLD)
    if (USE_CUDA)
        add_dependencies(atmoswing-tests ascuda)
        target_link_libraries(ascuda ${CUDA_CUDA_LIBRARY})
        target_link_libraries(atmoswing-tests ascuda)
    endif (USE_CUDA)
endif (BUILD_TESTS)