language: cpp
compiler: gcc
dist: trusty
sudo: required
env:
  - TARGET=tests
  - TARGET=coverage
cache:
  directories:
    - $HOME/.libs
install: 
  - sudo apt-get -qq update
  - sudo apt-get install -y build-essential gnome-devel cmake git
  - sudo apt-get install -y libnetcdf-dev libproj-dev libjasper-dev libcurl3 libwxgtk3.0-dev lcov
  - chmod +x ci/travis/build-gdal.sh
  - travis_wait 30 ci/travis/build-gdal.sh
script: "chmod +x ci/travis/run-${TARGET}.sh && travis_wait 40 ci/travis/run-${TARGET}.sh"
